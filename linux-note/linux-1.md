## Linux系统调度

### 用户空间与内核空间

进程是系统中程序执行和系统分配的最基本单位。

现在的Linux系统是采用虚拟存储器的，在32位机下，它的寻址空间就为4G(2^32)，也就是虚拟地址空间，操作系统将虚拟地址空间分为两个部分——用户空间和内核空间，在Linux系统中，将高1G的地址分配给内核空间（0xC0000000-0xFFFFFFFF）,将低3G的空间分配给用户空间（0x00000000-0xBFFFFFFF）。每个进程可以通过进程系统调用进入内核，系统内的所有进程共享内核空间，也就是每个进程的都可以拥有的虚拟存储空间为4G。


（1） 内核空间中存放的是内核代码和数据，而进程的用户空间中存放的是用户程序的代码和数据。不管是内核空间还是用户空间，它们都处于虚拟空间中。 

（2） Linux使用两级保护机制：0级供内核使用，3级供用户程序使用。


### 进程上下文

当一个程序执行了系统调用或者触发某个异常（软中断），此时就会陷入内核空间，内核此时代表进程执行，并处于进程上下文中。

？？？？

程序在执行过程中通常有用户态和内核态两种状态，CPU对处于内核态根据上下文环境进一步细分，因此有了下面三种状态：

（1）内核态，运行于进程上下文，内核代表进程运行于内核空间。<br/>
（2）内核态，运行于中断上下文，内核代表硬件运行于内核空间。<br/>
（3）用户态，运行于用户空间。

<font color=red size=5>上下文就是一种环境</font>

所谓的“进程上下文”，可以看作是用户进程传递给内核的这些参数以及内核要保存的那一整套的变量和寄存器值和当时的环境等。


### 线程的同步机制——互斥锁和信号量

互斥锁：


